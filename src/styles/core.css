/**
 * PrettyPoly Core Styles
 *
 * Minimal CSS for functionality that cannot be achieved with Tailwind classes.
 * All other styling is done via Tailwind in the components themselves.
 *
 * Contents:
 * - CSS Variables for theming
 * - Divider overlay system
 * - Drag state styles (pointer-events management)
 * - Keyframe animations (fade, slide)
 * - Accessibility media queries (high contrast, reduced motion)
 */

/* ============================================================================
   CSS VARIABLES FOR THEMING
   ========================================================================= */

:root {
  /* Divider colors - customizable via CSS variables */
  --divider-hover-color: rgba(59, 130, 246, 0.5); /* Blue at 50% opacity */
  --divider-active-color: rgba(59, 130, 246, 0.7); /* Blue at 70% opacity */
  --divider-size: 4px; /* Default hover zone size */
}

/* Dark mode support */
.dark {
  --divider-hover-color: rgba(96, 165, 250, 0.5);
  --divider-active-color: rgba(96, 165, 250, 0.7);
}

/* ============================================================================
   DIVIDER OVERLAY SYSTEM
   ========================================================================= */

/* Overlay container - sits above grid content */
.pretty-poly-divider-overlay {
  position: absolute;
  inset: 0;
  pointer-events: none; /* Let clicks pass through to blocks */
  z-index: 10;
}

/* Individual dividers */
.pretty-poly-divider {
  position: absolute;
  pointer-events: auto; /* Re-enable for divider interaction */
  background-color: transparent; /* Invisible by default */
  transition: background-color 0.1s ease;
}

.pretty-poly-divider:hover {
  background-color: var(--divider-hover-color);
}

.pretty-poly-divider:active,
.pretty-poly-divider[data-dragging="true"] {
  background-color: var(--divider-active-color);
}

/* ============================================================================
   DRAG STATE STYLES
   ========================================================================= */

/* Disable pointer events on all children during drag to prevent interference */
.pretty-poly-grid--dragging * {
  pointer-events: none;
}

/* Re-enable for active divider */
.pretty-poly-grid--dragging .pretty-poly-divider {
  pointer-events: auto;
}

/* Visual feedback during divider drag */
.pretty-poly-divider--dragging {
  background-color: var(--divider-active-color);
}

/* ============================================================================
   KEYFRAME ANIMATIONS
   ========================================================================= */

@keyframes pretty-poly-fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes pretty-poly-slide-in-left {
  from { transform: translateX(-100%); }
  to { transform: translateX(0); }
}

@keyframes pretty-poly-slide-in-right {
  from { transform: translateX(100%); }
  to { transform: translateX(0); }
}

/* ============================================================================
   ACCESSIBILITY
   ========================================================================= */

/* High contrast mode support */
@media (prefers-contrast: high) {
  .pretty-poly-divider-handle {
    background-color: currentColor;
  }
}

/* Reduced motion support - disable all transitions */
@media (prefers-reduced-motion: reduce) {
  .pretty-poly-block,
  .pretty-poly-divider,
  .pretty-poly-divider-handle {
    transition: none !important;
    animation: none !important;
  }
}